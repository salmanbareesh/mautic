//
// Buttons
// --------------------------------------------------


// Base styles
// ---------------------
.btn {
  transition: var(--transition-all-productive);
  border: 1px solid var(--border-no-color);
  .outline();
  border-radius: var(--border-radius-sm);
  display: inline-flex;
  align-items: center;
  height: var(--spacing-08);
  line-height: var(--spacing-08);
  font-weight: normal;
  font-size: 14px;
  padding: 0 var(--spacing-05);
  gap: var(--spacing-03);
  justify-content: space-between;
  width: fit-content;
  &,
  &:active,
  &.active {
    box-shadow: none;
    &:focus,
    &.focus {
      outline: 2px solid transparent;
    }
  }

  span {
    display: flex;
    align-items: center;
  }

  // reset font awesome width
  .fa, i {
    min-width: 13px;
    order: 2;
    line-height: inherit;
  }

  // remix icon
  [class^="ri-"], [class*=" ri-"] {
    font-size: 12px;
    vertical-align: -.05em;
  }

  // caret
  // ---------------------
  > .caret {
    margin-top: -1px;
  }

  // Rounded buttons
  // ---------------------
  &.btn-rounded {
    border-radius: @input-height-base;
    padding-left: (@padding-base-horizontal + 4);
    padding-right: (@padding-base-horizontal + 4);
  }

  // Circle buttons
  // ---------------------
  &.btn-circle {
    width: @input-height-base;
    padding-left: 0;
    padding-right: 0;
    border-radius: 50%;

    &.btn-lg { width: (@input-height-large + 1); }
    &.btn-sm { width: (@input-height-small - 1); }
    &.btn-xs { width: (@input-height-small - 9); }
  }

  // Outline buttons
  // ---------------------
  &.btn-outline {
    background-color: transparent;
    border-width: 1px;

    &.btn-primary { color: @brand-primary; }
    &.btn-success { color: @brand-success; }
    &.btn-warning { color: @brand-warning; }
    &.btn-danger { color: @brand-danger; }
    &.btn-info { color: @brand-info; }
  }

  &.btn-block {width: 100%;}
}


// Hierarchycal buttons
// ---------------------------------

/// Primary
.btn-primary, .btn-primary + .dropdown-toggle {
  background-color: var(--button-primary);
  color: var(--text-on-color);
  .outline();
  i {color: var(--text-on-color);}
  &:hover {background-color: var(--button-primary-hover);}
  &:active {background-color: var(--button-primary-active);}
  &:focus {box-shadow: inset 0 0 0 1px var(--focus),inset 0 0 0 2px var(--background,#ffffff);}
  &:disabled {
    background-color: var(--button-disabled);
    color: var(--text-on-color-disabled);
  }

  /// Primary danger
  &.btn-danger {
    color: var(--text-inverse);
    background-color: var(--button-danger-primary);
    .outline();
    i {color: var(--icon-inverse);}
    &:hover {background-color: var(--button-danger-hover);}
    &:active {background-color: var(--button-danger-active);}
    &:focus {box-shadow: inset 0 0 0 1px var(--focus),inset 0 0 0 2px var(--background,#ffffff);}
    &:disabled {
      background-color: var(--button-disabled);
      color: var(--text-on-color-disabled);
      i {color: var(--icon-on-color-disabled);}
    }
  }
}

/// Secondary
.btn-secondary {
  background-color: var(--button-secondary);
  color: var(--text-inverse);
  .outline();
  i {color: var(--text-inverse);}
  &:hover {
    background-color: var(--button-secondary-hover);
    color: var(--text-inverse);
  }
  &:active {background-color: var(--button-secondary-active);}
  &:focus {box-shadow: inset 0 0 0 1px var(--focus),inset 0 0 0 2px var(--background,#ffffff);}
  &:disabled {
    background-color: var(--button-disabled);
    color: var(--text-on-color-disabled);
  }
}

/// Tertiary + automatic error fixes
.btn-tertiary,
.btn-tertiary + .dropdown-toggle,
.btn-primary + .btn-primary:not(.dropdown-toggle),
.btn-primary + .btn-primary + .btn-primary,
.btn-primary + .btn-primary + .btn-secondary {
  background-color: transparent;
  color: var(--button-tertiary);
  border-color: var(--button-tertiary);
  margin-left: -1px;
  .outline();
  i {color: var(--button-tertiary);}
  &:hover {
    color: var(--text-inverse);
    background-color: var(--button-tertiary-hover);
    i {color: var(--icon-inverse);}
  }
  &:active {
    color: var(--text-inverse);
    background-color: var(--button-tertiary-active);
    i {color: var(--icon-inverse);}
  }
  &:focus {
    background-color: var(--button-tertiary-hover);
    box-shadow: inset 0 0 0 1px var(--focus),inset 0 0 0 2px var(--background,#ffffff);
    i {color: var(--icon-inverse);}
  }
  &:disabled {
    background-color: transparent;
    border-color: var(--button-disabled);
    color: var(--text-disabled);
    i {color: var(--icon-disabled);}
  }

  /// Tertiary danger
  &.btn-danger {
    color: var(--button-danger-secondary);
    border-color: var(--button-danger-secondary);
    .outline();
    i {color: var(--button-danger-secondary);}
    &:hover {
      background-color: var(--button-danger-hover);
      color: var(--text-inverse);
    }
    &:active {
      background-color: var(--button-danger-active);
      color: var(--text-inverse);
      i {color: var(--icon-inverse);}
    }
    &:focus {box-shadow: inset 0 0 0 1px var(--focus),inset 0 0 0 2px var(--background,#ffffff);}
    &:disabled {
      background-color: var(--button-disabled);
      color: var(--text-disabled);
      i {color: var(--icon-disabled);}
    }
  }
}

.btn-primary,
.btn-secondary,
.btn-tertiary {
  padding-left: var(--spacing-05);
  padding-right: var(--spacing-10);
  gap: var(--spacing-07);
  &:has(i) {padding-right: var(--spacing-05);}
  &.btn-icon {
    padding-right: 0;
    span { width: initial;}
  }
  span {
    justify-content: space-between;
    gap: var(--spacing-07);
    width: 100%;
  }
}

/// Ghost
.btn-ghost {
  color: var(--link-primary);
  background-color: transparent;
  padding-inline: var(--spacing-05);
  justify-content: center;
  .outline();
  i {color: var(--link-primary);}
  &:hover {
    color: var(--link-primary-hover);
    background-color: var(--background-hover);
    i {color: var(--link-primary-hover);}
  }
  &:active {background-color: var(--background-active);}
  &:disabled {
    color: var(--text-disabled);
    background-color: transparent;
    i {color: var(--icon-disabled);}
  }
  span {gap: var(--spacing-03);}

  //// Ghost Danger
  &.btn-danger {
    color: var(--button-danger-secondary);
    .outline();
    i {color: var(--button-danger-secondary);}
    &:hover {
      background-color: var(--button-danger-hover);
      color: var(--text-inverse);
      i {color: var(--icon-inverse);}
    }
    &:active {
      background-color: var(--button-danger-active);
      color: var(--text-inverse);
      i {color: var(--icon-inverse);}
    }
    &:focus {box-shadow: inset 0 0 0 1px var(--focus),inset 0 0 0 2px var(--background,#ffffff);}
    &:disabled {
      background-color: transparent;
      color: var(--text-disabled);
      i {color: var(--icon-disabled);}
    }
  }

  //// Ghost icon only
  &.btn-icon {
    color: var(--icon-primary);
    background-color: transparent;
    .outline();
    i {color: var(--icon-primary);}
    &:hover { background-color: var(--background-hover);}
    &:active { background-color: var(--background-active);}
    &:selected { background-color: var(--background-selected);}
    &:disabled { color: var(--icon-disabled);}
  }
}

// Ghost icon only
.btn-icon {
  justify-content: center;
  padding: 0;
  align-items: center;
  aspect-ratio: 1 / 1;
}

// Link buttons
// -------------------------

// Make a button look and behave like a link
.btn-link {
  font-weight: @btn-font-weight;
  &:hover,
  &:focus { text-decoration: none; }
}

.btn-info {
  color: @gray-dark;
  &:hover { color: @gray-dark; }
}

// Modal footer buttons
.modal-footer {
  padding: var(--spacing-03) 0 0;
  .modal-form-buttons {
    display: flex;
    justify-content: flex-end;
    gap: 1px;
      .btn {
        align-items: flex-start;
        height: var(--spacing-10);
        width: var(--spacing-13);
        &:first-child { border-radius: var(--border-radius-md) 0 0 0; }
      }
      .btn + .btn {
        border-radius: 0;
        margin: 0;
      }
   }
}

// Standard sizes
.btn-sm { height: var(--spacing-07); line-height: var(--spacing-07);}
.btn-md { height: var(--spacing-08); line-height: var(--spacing-08);}
.btn-lg { height: var(--spacing-09); line-height: var(--spacing-09);}
.btn-xl { height: var(--spacing-10); line-height: var(--spacing-08); align-items: flex-start;}
.btn-2xl { height: var(--spacing-11); line-height: var(--spacing-08); align-items: flex-start;}

// Fix for outline
.btn.active,
.dropdown-toggle,
.dropdown-menu > .active > a,
.open > a,
.btn-group .dropdown-toggle,
.btn-group.open .dropdown-toggle,
.navbar-toggle {
  .outline();
}